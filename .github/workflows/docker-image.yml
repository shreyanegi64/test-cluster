name: Deploy Streamlit App

on:
  push:
    branches:
      - main # or your default branch

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Get commit author
      id: get_author
      run: |
        commit_author=$(git log -1 --format='%an')
        echo "Commit author is $commit_author"
        echo "author=$commit_author" >> $GITHUB_ENV